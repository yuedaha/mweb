# 数据库的事务

### 一、事务的四个基本要素：
原子性（Atomicity）、一致性（Consistency）、隔离性（Isolation）和持久性（Durability），简称ACID。

* 原子性：事务开始后，所有的操作要么全部完成，要么全部不错，不会发生中间状态。当操作失败时，会回滚到事务开始之前，感觉操作从来没有过。
* 一致性：事务开始前和事务结束后，数据库的数据保持着完整性的。例如A向B转账，不能出现A转账成功，B确没有收到。
* 隔离性：不同事务不会产生影响。
* 持久性：事务完成后，所有的数据都要保存到数据库，不能回滚。

### 二、并发操作，存在问题：
* 脏读：一个事务读到另一个事务没有提交的值，另一个事物发生回滚。
* 不可重复读：在同一个事务中多次读取某个数据，在此过程中另一个事务对数据进行修改操作并提交，导致当前事务多次读到值不同。（修改）
* 幻读：可重复读，在一个事务中，每次读的信息一样，当不一定是最新的。（新增、删除）

### 三、mysql的事务级别：
* read-uncommitted：产生脏读
* read-committed：可以解决脏读，但是会存在不可重复读
* repeatable-read：存在幻读
* serializable：串行话

### 四、mysql解决幻读方式

